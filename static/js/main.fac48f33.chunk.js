(this.webpackJsonpfamily_tree=this.webpackJsonpfamily_tree||[]).push([[0],{106:function(e,t,a){e.exports={PersonDetails:"PersonDetails_PersonDetails__1Bp2N",personPicture:"PersonDetails_personPicture__33QtK",personName:"PersonDetails_personName__3i9Fr"}},189:function(e,t,a){},190:function(e,t,a){},296:function(e,t,a){"use strict";a.r(t);var r,i=a(0),n=a.n(i),s=a(43),c=a.n(s),l=(a(189),a(190),a(191),a(69)),o=a.n(l),d=a(20),m=a(104),h=a(8),b=a(50),u=a.n(b),j=a(382),p=a(368),O=a(355),f=a(356),x=a(357),v=a(31),N=a(62),_=a.n(N),D=a(78),C=function(){return Object(D.b)()},y=D.c,g=a(105);!function(e){e.Child="CHILD",e.Sibling="SIBLING"}(r||(r={}));var k=Object(g.b)({name:"family",initialState:{members:{1:{id:"1",firstName:"firstName",lastName:"lastName",birthDate:"1800-08-08",deathDate:"",parentId:"",picture:"https://static.wikia.nocookie.net/lotr/images/e/e7/Gandalf_the_Grey.jpg",relationship:"CHILD",children:["2","3"]},2:{id:"2",firstName:"firstName2",lastName:"lastName2",birthDate:"1900-08-08",deathDate:"",picture:"",parentId:"1",relationship:"",children:[]},3:{id:"3",firstName:"firstName3",lastName:"lastName3",birthDate:"1900-08-08",deathDate:"",picture:"",parentId:"1",relationship:"",children:[]},ku01lv64c1t8eqmf2qn:{firstName:"Giedrius",lastName:"",birthDate:"",deathDate:"",picture:"",id:"ku01lv64c1t8eqmf2qn",children:[],relationship:"",parentId:"1"},ku01lzmaqbw55qzpvso:{firstName:"firstName333333",lastName:"",birthDate:"",deathDate:"",picture:"",id:"ku01lzmaqbw55qzpvso",children:[],relationship:"",parentId:"3"},ku01m3twxw4cicq4tys:{firstName:"",lastName:"12",birthDate:"",deathDate:"",picture:"",id:"ku01m3twxw4cicq4tys",children:[],relationship:"",parentId:"ku01lzmaqbw55qzpvso"},ku01m8gzk79yu2z9vsq:{firstName:"Giedrius",lastName:"",birthDate:"",deathDate:"",picture:"",id:"ku01m8gzk79yu2z9vsq",children:[],relationship:"",parentId:"3"},ku01mc4b0pb9aoue31qd:{firstName:"firstName333333",lastName:"",birthDate:"",deathDate:"",picture:"",id:"ku01mc4b0pb9aoue31qd",children:[],relationship:"",parentId:"3"}}},reducers:{addMember:function(e,t){var a,i=t.payload,n=i.formData,s=i.selectedMember,c=n.relationship===r.Sibling?(null===(a=e.members[s.parentId])||void 0===a?void 0:a.id)||"":s.id,l=Object(v.a)(Object(v.a)({},n),{},{id:Date.now().toString(36)+Math.random().toString(36).substr(2),children:[],parentId:c});e.members[l.id]=l},removeMember:function(e,t){var a=t.payload;delete e.members[a.id]},updateMember:function(e,t){var a=t.payload,i=a.formData,n=a.selectedMember,s=i.relationship===r.Sibling?e.members[n.parentId].parentId:n.parentId||"";e.members[n.id]=Object(v.a)(Object(v.a)(Object(v.a)({},e.members[n.id]),i),{},{parentId:s})}}}),F=k.actions,I=F.addMember,S=F.removeMember,q=F.updateMember,w=function(e){return function(e){var t=Object.create(null);e.forEach((function(e){return t[e.id]=Object(v.a)(Object(v.a)({},e),{},{children:[]})}));var a=[];return e.forEach((function(e){e.parentId?t[e.parentId].children.push(t[e.id]):a.push(t[e.id])})),a}(Object.values(e.family.members))},T=k.reducer,M=a(57),P=a(370),B=a(364),E=a(365),z=a(360),R=a(363),H=a(374),L=a(375),V=a(379),W=a(167),A=a(358),G=a(106),U=a.n(G),J=a(1),K=function(e){var t=e.member;return Object(J.jsxs)("div",{className:U.a.PersonDetails,"data-testid":"PersonDetails",children:[Object(J.jsx)("div",{className:U.a.personPicture,children:t.picture&&Object(J.jsx)("img",{src:t.picture,alt:"memberPicture"})}),Object(J.jsxs)("div",{className:U.a.personName,children:[Object(J.jsx)("div",{children:t.firstName}),Object(J.jsx)("div",{children:t.lastName}),Object(J.jsxs)("div",{children:[t.birthDate," - ",t.deathDate]})]})]})},Q=M.b({firstName:M.c().required("First Name is required"),lastName:M.c().required("Last Name is required"),birthDate:M.a().required("Birth date is required"),deathDate:M.c(),picture:M.c(),relationship:M.c().required("Relationship is required")}),X=function(e){var t,a=e.selectedMember,i=e.isEditMode,n=e.handleClose,s=C(),c=y((t=a.parentId,function(e){return e.family.members[t]})),l=Object(W.a)({initialValues:i?Object(v.a)({},a):{firstName:"",lastName:"",birthDate:"",deathDate:"",picture:"",relationship:"CHILD"},validationSchema:Q,onSubmit:function(e){s(i?q({formData:e,selectedMember:a}):I({formData:e,selectedMember:a})),n()}});return Object(J.jsxs)("div",{className:_.a.CreateEditForm,"data-testid":"CreateEditForm",children:[Object(J.jsxs)("div",{className:_.a.parentDetails,children:[i&&Object(J.jsxs)("div",{children:[Object(J.jsx)(P.a,{className:_.a.formTitle,variant:"h4",component:"h4",children:"Editing:"}),Object(J.jsx)(K,{member:a})]}),Object(J.jsxs)("div",{children:[i?Object(J.jsx)(P.a,{className:_.a.formTitle,variant:"subtitle1",children:"Parent:"}):Object(J.jsx)(P.a,{className:_.a.formTitle,variant:"h4",children:"Creating relationship to:"}),c&&Object(J.jsx)(K,{member:c})]})]}),Object(J.jsxs)("form",{className:_.a.formContainer,onSubmit:l.handleSubmit,children:[i&&""!==a.parentId&&Object(J.jsxs)(B.a,{fullWidth:!0,error:l.touched.relationship&&Boolean(l.errors.relationship),children:[Object(J.jsxs)(E.a,{id:"relationship-label",children:["Relationship to ",i?"current parent":"selected member"]}),Object(J.jsxs)(z.a,{labelId:"relationship-label",id:"relationship",value:l.values.relationship,onChange:function(e){return l.setFieldValue("relationship",e.target.value)},children:[Object(J.jsx)(R.a,{value:r.Child,children:"Child"}),Object(J.jsx)(R.a,{value:r.Sibling,children:"Sibling"})]}),l.errors.relationship&&Object(J.jsx)(H.a,{children:l.errors.relationship})]}),Object(J.jsx)(L.a,{id:"firstName",name:"firstName",label:"FirstName",value:l.values.firstName,onChange:l.handleChange,error:l.touched.firstName&&Boolean(l.errors.firstName),helperText:l.touched.firstName&&l.errors.firstName}),Object(J.jsx)(L.a,{id:"lastName",name:"lastName",label:"LastName",value:l.values.lastName,onChange:l.handleChange,error:l.touched.lastName&&Boolean(l.errors.lastName),helperText:l.touched.lastName&&l.errors.lastName}),Object(J.jsxs)(B.a,{error:l.touched.birthDate&&Boolean(l.errors.birthDate),children:[Object(J.jsx)(A.a,{label:"Birth Date",mask:"____/__/__",inputFormat:"yyyy/MM/dd",value:l.values.birthDate,onChange:function(e){return l.setFieldValue("birthDate",!isNaN(Date.parse(e))&&e.toISOString().split("T")[0])},renderInput:function(e){return Object(J.jsx)(L.a,Object(v.a)(Object(v.a)({},e),{},{id:"birthDate",name:"birthDate",error:l.touched.birthDate&&Boolean(l.errors.birthDate)}))}}),l.errors.birthDate&&Object(J.jsx)(H.a,{children:l.errors.birthDate})]}),Object(J.jsx)(A.a,{label:"Death Date",mask:"____/__/__",inputFormat:"yyyy/MM/dd",value:l.values.deathDate,onChange:function(e){return l.setFieldValue("deathDate",!isNaN(Date.parse(e))&&e.toISOString().split("T")[0])},renderInput:function(e){return Object(J.jsx)(L.a,Object(v.a)(Object(v.a)({},e),{},{id:"deathDate",name:"deathDate",error:l.touched.deathDate&&Boolean(l.errors.deathDate)}))}}),Object(J.jsx)(L.a,{fullWidth:!0,id:"picture",name:"picture",label:"Picture link",value:l.values.picture,onChange:l.handleChange,error:l.touched.picture&&Boolean(l.errors.picture),helperText:l.touched.picture&&l.errors.picture}),Object(J.jsxs)("div",{children:[Object(J.jsx)(V.a,{color:"primary",variant:"contained",fullWidth:!0,type:"submit",children:"Save"}),Object(J.jsx)(V.a,{color:"primary",variant:"outlined",fullWidth:!0,type:"button",onClick:function(){n()},children:"Cancel"})]})]})]})},$=a(376),Y=a(380),Z=a(377),ee=a(381),te=a(378),ae=function(e){return Object(J.jsxs)($.a,{open:e.open,onClose:e.onClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(J.jsx)(Y.a,{id:"alert-dialog-title",children:"Do you want to delete?"}),Object(J.jsx)(Z.a,{children:Object(J.jsx)(ee.a,{id:"alert-dialog-description",children:"Do you want to delete family member with its relationships ?"})}),Object(J.jsxs)(te.a,{children:[Object(J.jsx)(V.a,{onClick:e.onClose,children:"Disagree"}),Object(J.jsx)(V.a,{onClick:e.onSubmit,autoFocus:!0,color:"primary",variant:"contained",children:"Agree"})]})]})},re=function(e){var t=e.editingView,a=Object(i.useState)(!1),r=Object(h.a)(a,2),s=r[0],c=r[1],l=Object(i.useState)({}),o=Object(h.a)(l,2),d=o[0],m=o[1],b=Object(i.useState)(!1),v=Object(h.a)(b,2),N=v[0],_=v[1],D=y(w),g=C();Object(i.useEffect)((function(){D.length||g(I({formData:{id:"0",parentId:"",relationship:"",firstName:"Root",lastName:"",birthDate:"",deathDate:"",picture:"",children:[]},selectedMember:{}}))}),[g,D]);var k=function(e,t){return function(a){(!a||"keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&(_(!!t),m(e),c(!s))}},F=n.a.useState(!1),q=Object(h.a)(F,2),T=q[0],M=q[1],P=function(e){return function(t){m(e),M(!0)}},B=function(){M(!1)};return Object(J.jsxs)("div",{className:u.a.FamilyTree,children:[Object(J.jsx)("div",{className:u.a.treeContainer,children:function e(a){return Object(J.jsx)("ul",{children:a.map((function(a){return Object(J.jsxs)("li",{children:[Object(J.jsxs)("div",{className:u.a.personContainer,children:[Object(J.jsx)(K,{member:a}),Object(J.jsx)("div",{className:u.a.actionButtons,children:t&&Object(J.jsxs)("div",{children:[" ",(r=a,Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(j.a,{onClick:k(r),className:u.a.miniFab,children:[" ",Object(J.jsx)(O.a,{fontSize:"small"})]}),Object(J.jsxs)(j.a,{onClick:k(r,!0),className:u.a.miniFab,children:[" ",Object(J.jsx)(f.a,{fontSize:"small"})]}),Object(J.jsxs)(j.a,{onClick:P(r),className:u.a.miniFab,children:[" ",Object(J.jsx)(x.a,{fontSize:"small"})]})]}))]})})]}),!!a.children.length&&e(a.children)]},a.id);var r}))})}(D)}),Object(J.jsx)(p.a,{anchor:"right",open:s,onClose:k({}),classes:{paper:u.a.drawerPaper},children:Object(J.jsx)(X,{selectedMember:d,isEditMode:N,handleClose:k({})})}),Object(J.jsx)(ae,{open:T,onClose:B,onSubmit:function(){return g(S(d)),void B()}})]})},ie=function(){var e=Object(d.f)();return Object(J.jsxs)("div",{className:o.a.Header,children:[Object(J.jsx)("ul",{className:o.a.navContainer,children:[{title:"View Tree",pageURL:"/"},{title:"Edit Tree",pageURL:"/edit"}].map((function(t){var a=t.title,r=t.pageURL;return Object(J.jsx)("li",{className:"".concat(o.a.listItem," ").concat(e.pathname===r&&o.a.active),children:Object(J.jsx)(m.b,{to:r,className:o.a.link,children:a})},a)}))}),Object(J.jsxs)(d.c,{children:[Object(J.jsx)(d.a,{path:"/edit",children:Object(J.jsx)(re,{editingView:!0})}),Object(J.jsx)(d.a,{path:"/",component:re})]})]})},ne=a(359),se=a(354);var ce=function(){return Object(J.jsx)(se.b,{dateAdapter:ne.a,children:Object(J.jsx)("div",{className:"App",children:Object(J.jsx)(m.a,{children:Object(J.jsx)(ie,{})})})})},le=Object(g.a)({reducer:{family:T}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(J.jsx)(n.a.StrictMode,{children:Object(J.jsx)(D.a,{store:le,children:Object(J.jsx)(ce,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},50:function(e,t,a){e.exports={FamilyTree:"FamilyTree_FamilyTree__3_hrA",personContainer:"FamilyTree_personContainer__xP1Sc",actionButtons:"FamilyTree_actionButtons__2UUv6",miniFab:"FamilyTree_miniFab__3Xi-q",drawerPaper:"FamilyTree_drawerPaper__1Rrm6",treeContainer:"FamilyTree_treeContainer__2t9MC"}},62:function(e,t,a){e.exports={CreateEditForm:"CreateEditForm_CreateEditForm__26y4T",formContainer:"CreateEditForm_formContainer___HcJp",parentDetails:"CreateEditForm_parentDetails__sRzkV",formTitle:"CreateEditForm_formTitle__3q2qS"}},69:function(e,t,a){e.exports={navContainer:"Header_navContainer__RAlFR",listItem:"Header_listItem__3IFPB",link:"Header_link__1VmKW",active:"Header_active__3F14A"}}},[[296,1,2]]]);
//# sourceMappingURL=main.fac48f33.chunk.js.map